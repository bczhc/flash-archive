<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Player</title>
</head>
<body>

<div id="container"></div>

<script>
    let searchParams = new URL(document.URL).searchParams;
    let path = searchParams.get('path');
    let config = JSON.parse(searchParams.get('config'));
    console.log(path);
    console.log(config);

    window.RufflePlayer = window.RufflePlayer || {};

    document.body.style.backgroundColor = config['page']['backgroundColor'];
    window.RufflePlayer.config = config['ruffle'];

    window.addEventListener("load", (event) => {
        const ruffle = window.RufflePlayer.newest();
        const player = ruffle.createPlayer();
        player.style.width = '100vw';
        player.style.height = '100vh';
        const container = document.getElementById("container");
        container.appendChild(player);
        player.load(path);
    });
</script>
<script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
</body>
</html>
